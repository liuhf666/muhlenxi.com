---
title: 永远不要靠巧合编程
date: 2018-11-30 13:37:29
categories: 编程思想
tags: [文集]
donate: false
toc: true
---

作为一个软件开发者，我们犹如奔赴雷区的士兵。每天有成百的地雷等着我们去趟。那么怎样才能避开地雷，不被 bug 折磨呢？


<!-- more -->

避雷的关键技术之一就是不要靠巧合编程，而是要深思熟虑地编程。

### 趟雷原因

为什么不能靠运气和偶然的成功来编程呢，请容我慢慢道来。

在心理学上有一个著名的心理学定律 - 『墨菲定律』。该定律表明，如果一件事情有变坏的可能，不管这种可能性多小，它总会发生。这种现象在编程领域也普遍存在，该发生的 bug 还是会发生，不管你见或者不见。

靠巧合编程，虽然代码能够运行出你想要的结果，但是你不知道为什么会运行成功。所以，当出问题的时候，你自然不知道原因所在，自然会花上大量时间检查调试， 费心又费力。

靠巧合编程，会让你陷入无尽的 bug 深渊，随着业务和代码量的增加，系统会变得更加复杂，导致某个 bug 的原因往往不是特定的。如果你没有良好的思路，无尽的调试会严重消耗你的精力和耐心，直到人生崩溃。

### 避雷方法

那怎样才能不靠巧合编程呢，有以下几点建议可以参考借鉴，如果你能做到这些建议，那么你在编程的路上将会少很多绊脚石和折磨。

**保持模块解耦，封装合理。** 编写给别人调用的代码，比如公共基础组件的开发，要有良好的模块化，并把实现隐藏在良好的接口之后。

**尽可能少制造人为错误。**如果我们想要让编写代码和调试 bug 的时间减少。就要尽可能在开发周期的早期抓住并修正错误，在一开始就要尽可能少的制造错误。

**动手编码前要理清思路。**思路不清楚的情况，此时往往在本子上画画图，写写流程，往往会起到意想不到的效果。毕竟磨刀不误砍柴工，遇到复杂问题时，要勇敢的亮出三把刀，画图、举例和分解。

**编码中总是意识到你在做什么。**写代码的时候，要意识到每行代码的作用。对于你概念模糊的代码一定要搞懂，不能不清不楚的就敲上去。虽然提倡要多 Google 不重复造轮子，但是粘贴代码的前提是你要彻底搞懂才行。

**依靠可靠的前提和边界条件，对可能出现的错误提前预防。**不要去猜测，要用程序去验证。计算机是不会骗你的，对于情况不清的情景，一律做最坏打算，在代码中恰当的使用断言可以提前规避可能发生的错误。

**提前想好自测用例。**可以从规范性、完整性 和 鲁棒性三个方面去考虑和扩展。规范性意味着你的代码要命名达意、布局清晰。完整性意味着自测用例要覆盖功能测试、边界测试和负面测试。鲁棒性也就是健壮性，意味着你的代码能够判断输入是否规范，并能够对不合理的输入进行恰当处理。

**保持谦虚的态度。**多和编程经验比你丰富的同事交流，三人行，必有我师。没事多听听它们的想法和建议，你会有意想不到的收获的。如果你的同事技术很牛，但是沉默寡言，那就多看看它们的代码，然后想想，如果该业务功能由你来做，你会如何实现。

### 后记

最后分享我最喜欢的一句话与大家共勉：

> 编程是一种技艺，一种用心去学习的技艺。